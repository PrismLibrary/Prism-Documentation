"use strict";(globalThis.webpackChunkprism_docs=globalThis.webpackChunkprism_docs||[]).push([[2580],{1470:(e,n,a)=>{a.d(n,{A:()=>I});var r=a(6540),t=a(4164),s=a(7559),i=a(3104),o=a(6347),l=a(205),u=a(7485),c=a(1682),d=a(679);function h(e){return r.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:n,children:a}=e;return(0,r.useMemo)(()=>{const e=n??function(e){return h(e).map(({props:{value:e,label:n,attributes:a,default:r}})=>({value:e,label:n,attributes:a,default:r}))}(a);return function(e){const n=(0,c.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,a])}function m({value:e,tabValues:n}){return n.some(n=>n.value===e)}function g({queryString:e=!1,groupId:n}){const a=(0,o.W6)(),t=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,u.aZ)(t),(0,r.useCallback)(e=>{if(!t)return;const n=new URLSearchParams(a.location.search);n.set(t,e),a.replace({...a.location,search:n.toString()})},[t,a])]}function f(e){const{defaultValue:n,queryString:a=!1,groupId:t}=e,s=p(e),[i,o]=(0,r.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const a=n.find(e=>e.default)??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:n,tabValues:s})),[u,c]=g({queryString:a,groupId:t}),[h,f]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[a,t]=(0,d.Dv)(n);return[a,(0,r.useCallback)(e=>{n&&t.set(e)},[n,t])]}({groupId:t}),b=(()=>{const e=u??h;return m({value:e,tabValues:s})?e:null})();(0,l.A)(()=>{b&&o(b)},[b]);return{selectedValue:i,selectValue:(0,r.useCallback)(e=>{if(!m({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);o(e),c(e),f(e)},[c,f,s]),tabValues:s}}var b=a(2303);const v={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var y=a(4848);function x({className:e,block:n,selectedValue:a,selectValue:r,tabValues:s}){const o=[],{blockElementScrollPositionUntilNextRender:l}=(0,i.a_)(),u=e=>{const n=e.currentTarget,t=o.indexOf(n),i=s[t].value;i!==a&&(l(n),r(i))},c=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const a=o.indexOf(e.currentTarget)+1;n=o[a]??o[0];break}case"ArrowLeft":{const a=o.indexOf(e.currentTarget)-1;n=o[a]??o[o.length-1];break}}n?.focus()};return(0,y.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":n},e),children:s.map(({value:e,label:n,attributes:r})=>(0,y.jsx)("li",{role:"tab",tabIndex:a===e?0:-1,"aria-selected":a===e,ref:e=>{o.push(e)},onKeyDown:c,onClick:u,...r,className:(0,t.A)("tabs__item",v.tabItem,r?.className,{"tabs__item--active":a===e}),children:n??e},e))})}function T({lazy:e,children:n,selectedValue:a}){const s=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=s.find(e=>e.props.value===a);return e?(0,r.cloneElement)(e,{className:(0,t.A)("margin-top--md",e.props.className)}):null}return(0,y.jsx)("div",{className:"margin-top--md",children:s.map((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==a}))})}function w(e){const n=f(e);return(0,y.jsxs)("div",{className:(0,t.A)(s.G.tabs.container,"tabs-container",v.tabList),children:[(0,y.jsx)(x,{...n,...e}),(0,y.jsx)(T,{...n,...e})]})}function I(e){const n=(0,b.A)();return(0,y.jsx)(w,{...e,children:h(e.children)},String(n))}},4915:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>c,contentTitle:()=>u,default:()=>p,frontMatter:()=>l,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"plugins/essentials/threading/mainthread","title":"Main Thread","description":"There are a variety of reasons why you may need to force the execution of a block of code on the MainThread. Some care should be taken when executing on the MainThread as this is used by the UI and long running processes on the UI Thread may result in \\"Locking\\" the UI, leading to a poor user experience and bad app store reviews.","source":"@site/versioned_docs/version-9.0/plugins/essentials/threading/mainthread.md","sourceDirName":"plugins/essentials/threading","slug":"/plugins/essentials/threading/mainthread","permalink":"/docs/9.0/plugins/essentials/threading/mainthread","draft":false,"unlisted":false,"editUrl":"https://github.com/PrismLibrary/Prism-Documentation/edit/master/versioned_docs/version-9.0/plugins/essentials/threading/mainthread.md","tags":[],"version":"9.0","lastUpdatedBy":"Dan Siegel","lastUpdatedAt":1763924367000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1,"uid":"Plugins.Essentials.Threading.MainThread"},"sidebar":"tutorialSidebar","previous":{"title":"App Permissions","permalink":"/docs/9.0/plugins/essentials/permissions/permissions-manager"},"next":{"title":"Prism.Plugin.Logging","permalink":"/docs/9.0/plugins/logging/"}}');var t=a(4848),s=a(8453),i=a(1470),o=a(9365);const l={sidebar_position:1,uid:"Plugins.Essentials.Threading.MainThread"},u="Main Thread",c={},d=[{value:"Using IMainThread",id:"using-imainthread",level:2}];function h(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"main-thread",children:"Main Thread"})}),"\n",(0,t.jsx)(n.p,{children:'There are a variety of reasons why you may need to force the execution of a block of code on the MainThread. Some care should be taken when executing on the MainThread as this is used by the UI and long running processes on the UI Thread may result in "Locking" the UI, leading to a poor user experience and bad app store reviews.'}),"\n",(0,t.jsxs)(n.p,{children:["Prism.Essentials provides an abstraction layer for the Main Thread which works across all of Prism's primary supported platforms. ",(0,t.jsx)(n.code,{children:"IMainThread"})," is a core service within Prism.Essentials. As a result any service that you register within Prism.Essentials will also automatically register ",(0,t.jsx)(n.code,{children:"IMainThread"}),". For simplicity here we will register all of the Prism.Essentials Services."]}),"\n",(0,t.jsxs)(i.A,{groupId:"platform",children:[(0,t.jsx)(o.A,{value:"maui",label:".NET MAUI",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"builder.UseMauiApp<App>()\n    .UsePrism(prism => prism.UsePrismEssentials())\n"})})}),(0,t.jsx)(o.A,{value:"wpf",label:"WPF",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"protected override void RegisterTypes(IContainerRegistry containerRegistry)\n{\n    containerRegistry.UsePrismEssentials();\n}\n"})})}),(0,t.jsx)(o.A,{value:"uno-platform",label:"Uno Platform",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"protected override void RegisterTypes(IContainerRegistry containerRegistry)\n{\n    containerRegistry.UsePrismEssentials();\n}\n"})})})]}),"\n",(0,t.jsx)(n.h2,{id:"using-imainthread",children:"Using IMainThread"}),"\n",(0,t.jsxs)(n.p,{children:["Within your application you can make use of ",(0,t.jsx)(n.code,{children:"IMainThread"})," similar to any other service with DependencyInjection."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cs",children:"public class ViewAViewModel : BindableBase\n{\n    private readonly IMainThread _mainThread;\n    public ViewAViewModel(IMainThread mainThread)\n    {\n        _mainThread = mainThread;\n    }\n\n    private void OnSomethingHappened()\n    {\n        if (_mainThread.IsMainThread)\n            DoSomething();\n        else\n            _mainThread.BeginInvokeOnMainThread(DoSomething);\n    }\n\n    private void DoSomething()\n    {\n        // Do Something....\n    }\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Additionally ",(0,t.jsx)(n.code,{children:"IMainThread"})," has a number of overloads which will let you execute a Function with a return type or even asynchronous code."]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>i,x:()=>o});var r=a(6540);const t={},s=r.createContext(t);function i(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(s.Provider,{value:n},e.children)}},9365:(e,n,a)=>{a.d(n,{A:()=>i});a(6540);var r=a(4164);const t={tabItem:"tabItem_Ymn6"};var s=a(4848);function i({children:e,hidden:n,className:a}){return(0,s.jsx)("div",{role:"tabpanel",className:(0,r.A)(t.tabItem,a),hidden:n,children:e})}}}]);