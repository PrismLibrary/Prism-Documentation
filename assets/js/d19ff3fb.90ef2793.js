"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[9806],{1342:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>u,default:()=>v,frontMatter:()=>l,metadata:()=>r,toc:()=>g});const r=JSON.parse('{"id":"plugins/regions","title":"Observable Regions","description":"Getting Started","source":"@site/versioned_docs/version-9.0/plugins/regions.md","sourceDirName":"plugins","slug":"/plugins/regions","permalink":"/docs/9.0/plugins/regions","draft":false,"unlisted":false,"editUrl":"https://github.com/PrismLibrary/Prism-Documentation/edit/master/versioned_docs/version-9.0/plugins/regions.md","tags":[],"version":"9.0","lastUpdatedBy":"Dan Siegel","lastUpdatedAt":1763924282000,"sidebarPosition":3,"frontMatter":{"sidebar_position":3,"uid":"Plugins.ObservableRegions","title":"Observable Regions","sidebar_label":"Observable Regions"},"sidebar":"tutorialSidebar","previous":{"title":"Logging Interop with Prism.Plugin.Essentials","permalink":"/docs/9.0/plugins/logging/interop/essentials"},"next":{"title":"Popups","permalink":"/docs/9.0/plugins/popups"}}');var i=t(4848),a=t(8453),o=t(1470),s=t(9365);const l={sidebar_position:3,uid:"Plugins.ObservableRegions",title:"Observable Regions",sidebar_label:"Observable Regions"},u="Observable Regions",c={},g=[{value:"Getting Started",id:"getting-started",level:2},{value:"RegionNavigationEvent",id:"regionnavigationevent",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"observable-regions",children:"Observable Regions"})}),"\n",(0,i.jsx)(n.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,i.jsxs)(n.p,{children:["While it has always been possible to respond to Region Navigation Events such as Navigating, Navigated and NavigationFailed through the IRegionNavigationService, this hasn't been something that is particularly easy to deal with from a global scope. This is in part due to the fact that each Region has it's own Navigation Service. ",(0,i.jsx)(n.code,{children:"Prism.Plugin.ObservableRegions"})," is a new cross platform package from the Prism team exclusively available to Commercial Plus subscribers. For the first time you now have the ability to manage Region Navigation Events from a global context."]}),"\n",(0,i.jsxs)(o.A,{groupId:"platform",children:[(0,i.jsx)(s.A,{value:"maui",label:".NET MAUI",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",children:"public static class PrismStartup\n{\n    public static void Configure(PrismAppBuilder builder) =>\n        builder.RegisterTypes(RegisterTypes)\n            .OnInitialized(container => container.ObserveRegionNavigation(RegionNavigationObserver));\n\n    private static void RegisterTypes(IContainerRegistry containerRegistry)\n    {\n        containerRegistry.AddObservableRegions();\n    }\n\n    private static void RegionNavigationObserver(IContainerProvider container, IGlobalRegionNavigationObserver observer) =>\n        observer.Navigation\n            .Where(x => x.Event == RegionNavigationEventType.Failed)\n            .Subscribe(regionEvent => {\n                var logger = container.Resolve<ILogger>();\n                logger.Report(regionEvent.Error!);\n            });\n}\n"})})}),(0,i.jsx)(s.A,{value:"wpf",label:"WPF",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",children:"public partial class App : Application\n{\n    protected override void RegisterTypes(IContainerRegistry containerRegistry)\n    {\n        containerRegistry.AddObservableRegions();\n    }\n\n    protected override void OnInitialized()\n    {\n        Container.ObserveRegionNavigation(RegionNavigationObserver);\n    }\n\n    private static void RegionNavigationObserver(IContainerProvider container, IGlobalRegionNavigationObserver observer) =>\n        observer.Navigation\n            .Where(x => x.Event == RegionNavigationEventType.Failed)\n            .Subscribe(regionEvent => {\n                var logger = container.Resolve<ILogger>();\n                logger.Report(regionEvent.Error!);\n            });\n}\n"})})}),(0,i.jsx)(s.A,{value:"uno-platform",label:"Uno Platform",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",children:"public partial class App : Application\n{\n    protected override void RegisterTypes(IContainerRegistry containerRegistry)\n    {\n        containerRegistry.AddObservableRegions();\n    }\n\n    protected override void OnInitialized()\n    {\n        Container.ObserveRegionNavigation(RegionNavigationObserver);\n    }\n\n    private static void RegionNavigationObserver(IContainerProvider container, IGlobalRegionNavigationObserver observer) =>\n        observer.Navigation\n            .Where(x => x.Event == RegionNavigationEventType.Failed)\n            .Subscribe(regionEvent => {\n                var logger = container.Resolve<ILogger>();\n                logger.Report(regionEvent.Error!);\n            });\n}\n"})})})]}),"\n",(0,i.jsx)(n.h2,{id:"regionnavigationevent",children:"RegionNavigationEvent"}),"\n",(0,i.jsxs)(n.p,{children:["Note that this event does not inherit from PubSubEvent and is not fired from the ",(0,i.jsx)(n.code,{children:"IEventAggregator"}),". The event will give you the following record with access to the Region that is being navigated, the event type, the NavigationContext, the Uri and the ViewName that was being navigated. When the Event Type is null you will also have an Error. The Error will always be null when Navigating and Navigated are the event types."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",children:"public record RegionNavigationEvent(IRegion Region, RegionNavigationEventType Event, NavigationContext Context, Uri Uri, string Name, Exception? Error = null);\n\npublic enum RegionNavigationEventType\n{\n    Navigating,\n    Navigated,\n    Failed\n}\n"})})]})}function v(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},1470:(e,n,t)=>{t.d(n,{A:()=>E});var r=t(6540),i=t(4164),a=t(7559),o=t(3104),s=t(6347),l=t(205),u=t(7485),c=t(1682),g=t(679);function d(e){return r.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function v(e){const{values:n,children:t}=e;return(0,r.useMemo)(()=>{const e=n??function(e){return d(e).map(({props:{value:e,label:n,attributes:t,default:r}})=>({value:e,label:n,attributes:t,default:r}))}(t);return function(e){const n=(0,c.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,t])}function b({value:e,tabValues:n}){return n.some(n=>n.value===e)}function p({queryString:e=!1,groupId:n}){const t=(0,s.W6)(),i=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,u.aZ)(i),(0,r.useCallback)(e=>{if(!i)return;const n=new URLSearchParams(t.location.search);n.set(i,e),t.replace({...t.location,search:n.toString()})},[i,t])]}function h(e){const{defaultValue:n,queryString:t=!1,groupId:i}=e,a=v(e),[o,s]=(0,r.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!b({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=n.find(e=>e.default)??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:a})),[u,c]=p({queryString:t,groupId:i}),[d,h]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,i]=(0,g.Dv)(n);return[t,(0,r.useCallback)(e=>{n&&i.set(e)},[n,i])]}({groupId:i}),m=(()=>{const e=u??d;return b({value:e,tabValues:a})?e:null})();(0,l.A)(()=>{m&&s(m)},[m]);return{selectedValue:o,selectValue:(0,r.useCallback)(e=>{if(!b({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);s(e),c(e),h(e)},[c,h,a]),tabValues:a}}var m=t(2303);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var R=t(4848);function y({className:e,block:n,selectedValue:t,selectValue:r,tabValues:a}){const s=[],{blockElementScrollPositionUntilNextRender:l}=(0,o.a_)(),u=e=>{const n=e.currentTarget,i=s.indexOf(n),o=a[i].value;o!==t&&(l(n),r(o))},c=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const t=s.indexOf(e.currentTarget)+1;n=s[t]??s[0];break}case"ArrowLeft":{const t=s.indexOf(e.currentTarget)-1;n=s[t]??s[s.length-1];break}}n?.focus()};return(0,R.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":n},e),children:a.map(({value:e,label:n,attributes:r})=>(0,R.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{s.push(e)},onKeyDown:c,onClick:u,...r,className:(0,i.A)("tabs__item",f.tabItem,r?.className,{"tabs__item--active":t===e}),children:n??e},e))})}function N({lazy:e,children:n,selectedValue:t}){const a=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=a.find(e=>e.props.value===t);return e?(0,r.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,R.jsx)("div",{className:"margin-top--md",children:a.map((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==t}))})}function x(e){const n=h(e);return(0,R.jsxs)("div",{className:(0,i.A)(a.G.tabs.container,"tabs-container",f.tabList),children:[(0,R.jsx)(y,{...n,...e}),(0,R.jsx)(N,{...n,...e})]})}function E(e){const n=(0,m.A)();return(0,R.jsx)(x,{...e,children:d(e.children)},String(n))}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>s});var r=t(6540);const i={},a=r.createContext(i);function o(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(a.Provider,{value:n},e.children)}},9365:(e,n,t)=>{t.d(n,{A:()=>o});t(6540);var r=t(4164);const i={tabItem:"tabItem_Ymn6"};var a=t(4848);function o({children:e,hidden:n,className:t}){return(0,a.jsx)("div",{role:"tabpanel",className:(0,r.A)(i.tabItem,t),hidden:n,children:e})}}}]);