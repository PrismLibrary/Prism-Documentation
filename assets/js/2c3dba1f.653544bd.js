"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[7385],{5997:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>s,metadata:()=>r,toc:()=>g});const r=JSON.parse('{"id":"plugins/logging/providers/gelf","title":"Logging with Graylog (GELF)","description":"Graylog is a great option for Developers. We find that there are generally 2 categories of developers that really love using Graylog:","source":"@site/docs/plugins/logging/providers/gelf.md","sourceDirName":"plugins/logging/providers","slug":"/plugins/logging/providers/gelf","permalink":"/docs/current/plugins/logging/providers/gelf","draft":false,"unlisted":false,"editUrl":"https://github.com/PrismLibrary/Prism-Documentation/edit/master/docs/plugins/logging/providers/gelf.md","tags":[],"version":"current","lastUpdatedBy":"Dan Siegel","lastUpdatedAt":1763924282000,"sidebarPosition":5,"frontMatter":{"sidebar_position":5,"uid":"Plugins.Logging.Gelf"},"sidebar":"tutorialSidebar","previous":{"title":"Firebase","permalink":"/docs/current/plugins/logging/providers/firebase"},"next":{"title":"Kochava","permalink":"/docs/current/plugins/logging/providers/kochava"}}');var a=o(4848),t=o(8453);const s={sidebar_position:5,uid:"Plugins.Logging.Gelf"},i="Logging with Graylog (GELF)",l={},g=[{value:"Setup",id:"setup",level:2},{value:"Local Debugging",id:"local-debugging",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"logging-with-graylog-gelf",children:"Logging with Graylog (GELF)"})}),"\n",(0,a.jsx)(n.p,{children:"Graylog is a great option for Developers. We find that there are generally 2 categories of developers that really love using Graylog:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Developers who want to have logging that is disconnected from Visual Studio but something that can remain local on their developer machine. This can work fantastic in scenarios where you may be doing a demo from a pre-deploy dev build to a device without an active Debug session in Visual Studio. In these situations we have all had great demos where something goes wrong and we wish we could see what happened. Using the GELF logger this problem can be solved by ensuring that even while you're doing your demo the logs can continue to stream to your machine for you to review later."}),"\n",(0,a.jsx)(n.li,{children:"Some Enterprises in particular have very strict Data policies. As such owning the full End-to-End solution can be of great importance. For these customers Graylog can provide a fantastic option as you can control your options by deploying your own Graylog server into production."}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"setup",children:"Setup"}),"\n",(0,a.jsx)(n.h2,{id:"local-debugging",children:"Local Debugging"}),"\n",(0,a.jsxs)(n.p,{children:["Below is a sample docker file. You can use this to create a local Graylog stack using the ",(0,a.jsx)(n.a,{href:"https://hub.docker.com/r/graylog/graylog/",children:"Graylog Docker image"}),". This can be useful for testing application logs locally. Requires ",(0,a.jsx)(n.a,{href:"https://www.docker.com/get-docker",children:"Docker"})," and Docker Compose."]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"docker-compose up"})}),"\n",(0,a.jsxs)(n.li,{children:["Navigate to ",(0,a.jsx)(n.a,{href:"http://localhost:9000",children:"http://localhost:9000"})]}),"\n",(0,a.jsx)(n.li,{children:"Credentials: admin/admin"}),"\n",(0,a.jsxs)(n.li,{children:["Create a UDP input on port 12201 and set ",(0,a.jsx)(n.code,{children:"GelfLoggerOptions.Host"})," to ",(0,a.jsx)(n.code,{children:"localhost"}),"."]}),"\n"]}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsxs)(n.p,{children:["The username and password are both ",(0,a.jsx)(n.code,{children:"admin"}),". This should only be used for local testing. If putting this into production be sure to update the password."]})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-docker",children:'services:\n  mongodb:\n    image: mongo:4.4\n    container_name: graylog-mongodb\n    restart: always\n    volumes:\n      - /docker/graylog/data/mongodb:/data/db\n    networks:\n      - graylog-network\n\n  elasticsearch:\n    image: docker.elastic.co/elasticsearch/elasticsearch:7.17.9\n    container_name: graylog-elasticsearch\n    restart: always\n    environment:\n      - discovery.type=single-node\n      - ES_JAVA_OPTS=-Xms1g -Xmx1g\n      - xpack.security.enabled=false\n      - xpack.monitoring.enabled=false\n      - xpack.ml.enabled=false\n      - network.host=0.0.0.0\n    ulimits:\n      memlock:\n        soft: -1\n        hard: -1\n    volumes:\n      - /docker/graylog/data/elasticsearch:/usr/share/elasticsearch/data\n    networks:\n      - graylog-network\n\n  graylog:\n    image: graylog/graylog:4.3\n    container_name: graylog\n    restart: always\n    depends_on:\n      - mongodb\n      - elasticsearch\n    environment:\n      - GRAYLOG_PASSWORD_SECRET=somepasswordpepper\n      # Password: "admin"\n      - GRAYLOG_ROOT_PASSWORD_SHA2=8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918\n      - GRAYLOG_HTTP_EXTERNAL_URI=http://127.0.0.1:9000/\n      - GRAYLOG_ELASTICSEARCH_HOSTS=http://elasticsearch:9200\n      - GRAYLOG_MONGODB_URI=mongodb://mongodb:27017/graylog\n    ports:\n      # Graylog web interface and REST API\n      - "9000:9000/tcp"\n      # Beats\n      - "5044:5044/tcp"\n      # Syslog TCP\n      - "5140:5140/tcp"\n      # Syslog UDP\n      - "5140:5140/udp"\n      # GELF TCP\n      - "12201:12201/tcp"\n      # GELF UDP\n      - "12201:12201/udp"\n      # Forwarder data\n      - "13301:13301/tcp"\n      # Forwarder config\n      - "13302:13302/tcp"\n    volumes:\n      - /docker/graylog/data/graylog:/usr/share/graylog/data/journal\n    networks:\n      - graylog-network\n\nnetworks:\n  graylog-network:\n    driver: bridge\n'})})]})}function d(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>s,x:()=>i});var r=o(6540);const a={},t=r.createContext(a);function s(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);