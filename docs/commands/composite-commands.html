<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Composite Commands | Prism </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Composite Commands | Prism ">
    <meta name="generator" content="docfx 2.56.7.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <link rel="stylesheet" href="../../styles/affix.css">
    <meta property="docfx:navrel" content="../../toc">
    <meta property="docfx:tocrel" content="../toc">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../images/prism-logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
                <ul class="nav level1 navbar-nav">
                  <li class="">
                    <a href="//prismlibrary.com/" title="Home" class="">Home</a>
                  </li>
                  <li class="active">
                    <a href="../../docs/index.html" title="Documentation" class="active">Documentation</a>
                  </li>
                </ul>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div>
              <div class="sidefilter">
                <form class="toc-filter">
                  <span class="glyphicon glyphicon-filter filter-icon"></span>
                  <input type="text" id="toc_filter_input" placeholder="Enter here to filter..." onkeypress="if(event.keyCode==13) {return false;}">
                </form>
              </div>
              <div class="sidetoc">
                <div class="toc" id="toc">
                  
                  <ul class="nav level1">
                    <li class="">
                      <a href="../index.html" title="Introduction" class="">Introduction</a>
                    </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">Commands</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../commands/commanding.html" title="Commanding" class="">Commanding</a>
                          </li>
                          <li class="active">
                            <a href="../commands/composite-commands.html" title="Composite Commands" class="active">Composite Commands</a>
                          </li>
                          <li class="">
                            <a href="../commands/async-commands.html" title="Async Commands" class="">Async Commands</a>
                          </li>
                          <li class="">
                            <a href="../commands/error-handling.html" title="Error Handling" class="">Error Handling</a>
                          </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">Dependency Injection</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../dependency-injection/index.html" title="Getting Started" class="">Getting Started</a>
                          </li>
                          <li class="">
                            <a href="../dependency-injection/registering-types.html" title="Registering Types" class="">Registering Types</a>
                          </li>
                          <li class="">
                            <a href="../dependency-injection/servicecollection-supplement.html" title="Microsoft Extensions (Supplement)" class="">Microsoft Extensions (Supplement)</a>
                          </li>
                          <li class="">
                            <a href="../dependency-injection/platform-specific-services.html" title="Platform Specific Services" class="">Platform Specific Services</a>
                          </li>
                          <li class="">
                            <a href="../dependency-injection/resolution-errors.html" title="Exception Handling" class="">Exception Handling</a>
                          </li>
                          <li class="">
                            <a href="../dependency-injection/container-locator.html" title="ContainerLocator" class="">ContainerLocator</a>
                          </li>
                          <li class="">
                            <a href="../dependency-injection/appendix.html" title="Appendix" class="">Appendix</a>
                          </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">Dialog Service</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../dialogs/index.html" title="Dialog Service" class="">Dialog Service</a>
                          </li>
                          <li class="">
                            <a href="../dialogs/dialog-aware.html" title="IDialogAware ViewModels" class="">IDialogAware ViewModels</a>
                          </li>
                          <li class="">
                            <a href="../dialogs/dialog-window.html" title="IDialogWindow (WPF &amp; Uno Platform)" class="">IDialogWindow (WPF &amp; Uno Platform)</a>
                          </li>
                        </ul>  </li>
                    <li class="">
                      <a href="../event-aggregator.html" title="Event Aggregator" class="">Event Aggregator</a>
                    </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">Mvvm</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../mvvm/bindablebase.html" title="BindableBase" class="">BindableBase</a>
                          </li>
                          <li class="">
                            <a href="../mvvm/viewmodel-locator.html" title="ViewModelLocator" class="">ViewModelLocator</a>
                          </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">Modularity</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../modularity/index.html" title="Getting Started" class="">Getting Started</a>
                          </li>
                          <li class="">
                            <a href="../modularity/module-catalog.html" title="Module Catalog" class="">Module Catalog</a>
                          </li>
                          <li class="">
                            <a href="../modularity/module-initialization.html" title="Module Initialization" class="">Module Initialization</a>
                          </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">Navigation</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../navigation/index.html" title="Getting Started" class="">Getting Started</a>
                          </li>
                          <li class="">
                            <a href="../navigation/navigation-parameters.html" title="INavigationParameters" class="">INavigationParameters</a>
                          </li>
                          <li class="">
                            <a href="../navigation/page-navigation.html" title="Page Navigation" class="">Page Navigation</a>
                          </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a class="">Regions</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="../navigation/regions/index.html" title="Getting Started" class="">Getting Started</a>
                                </li>
                                <li class="">
                                  <a href="../navigation/regions/region-manager.html" title="Region Manager" class="">Region Manager</a>
                                </li>
                                <li class="">
                                  <a href="../navigation/regions/region-adapters.html" title="Region Adapters" class="">Region Adapters</a>
                                </li>
                                <li class="">
                                  <a href="../navigation/regions/region-behaviors.html" title="Region Behaviors" class="">Region Behaviors</a>
                                </li>
                                <li class="">
                                  <a href="../navigation/regions/index.html" title="About Navigation in Prism" class="">About Navigation in Prism</a>
                                </li>
                                <li class="">
                                  <a href="../navigation/regions/basic-region-navigation.html" title="Basic Region Navigation" class="">Basic Region Navigation</a>
                                </li>
                                <li class="">
                                  <a href="../navigation/regions/view-viewmodel-participation.html" title="View/ViewModel Participation" class="">View/ViewModel Participation</a>
                                </li>
                                <li class="">
                                  <a href="../navigation/regions/navigation-existing-views.html" title="Navigating to Existing Views" class="">Navigating to Existing Views</a>
                                </li>
                                <li class="">
                                  <a href="../navigation/regions/passing-parameters.html" title="Passing Parameters" class="">Passing Parameters</a>
                                </li>
                                <li class="">
                                  <a href="../navigation/regions/confirming-navigation.html" title="Confirming Navigation" class="">Confirming Navigation</a>
                                </li>
                                <li class="">
                                  <a href="../navigation/regions/controlling-view-lifetime.html" title="Controlling View Lifetime" class="">Controlling View Lifetime</a>
                                </li>
                                <li class="">
                                  <a href="../navigation/regions/navigation-journal.html" title="Navigation Journal" class="">Navigation Journal</a>
                                </li>
                              </ul>  </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">Platforms</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <span class="expand-stub"></span>
                            <a class="">Maui</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="../platforms/maui/index.html" title="Getting Started" class="">Getting Started</a>
                                </li>
                                <li class="">
                                  <a href="../platforms/maui/migrating.html" title="Migrating from Prism.Forms" class="">Migrating from Prism.Forms</a>
                                </li>
                                <li class="">
                                  <a href="../platforms/maui/appbuilder.html" title="PrismAppBuilder" class="">PrismAppBuilder</a>
                                </li>
                                <li class="">
                                  <span class="expand-stub"></span>
                                  <a class="">AppModel</a>
                                    
                                    <ul class="nav level4">
                                      <li class="">
                                        <a href="../platforms/maui/appmodel/pagelifecycleaware.html" title="IPageLifecycleAware" class="">IPageLifecycleAware</a>
                                      </li>
                                    </ul>  </li>
                                <li class="">
                                  <span class="expand-stub"></span>
                                  <a class="">Behaviors</a>
                                    
                                    <ul class="nav level4">
                                      <li class="">
                                        <a href="../platforms/maui/behaviors/index.html" title="Introduction" class="">Introduction</a>
                                      </li>
                                      <li class="">
                                        <a href="../platforms/maui/behaviors/behaviorbase.html" title="BehaviorBase&lt;T&gt;" class="">BehaviorBase&lt;T&gt;</a>
                                      </li>
                                      <li class="">
                                        <a href="../platforms/maui/behaviors/eventtocommandbehavior.html" title="EventToCommandBehavior" class="">EventToCommandBehavior</a>
                                      </li>
                                      <li class="">
                                        <a href="../platforms/maui/behaviors/pagebehaviorfactory.html" title="PageBehaviorFactory" class="">PageBehaviorFactory</a>
                                      </li>
                                    </ul>  </li>
                                <li class="">
                                  <span class="expand-stub"></span>
                                  <a class="">Dialogs</a>
                                    
                                    <ul class="nav level4">
                                      <li class="">
                                        <a href="../platforms/maui/dialogs/index.html" title="Getting Started" class="">Getting Started</a>
                                      </li>
                                      <li class="">
                                        <a href="../platforms/maui/dialogs/pagedialogs.html" title="IPageDialogService" class="">IPageDialogService</a>
                                      </li>
                                    </ul>  </li>
                                <li class="">
                                  <span class="expand-stub"></span>
                                  <a class="">Navigation</a>
                                    
                                    <ul class="nav level4">
                                      <li class="">
                                        <a href="../platforms/maui/navigation/index.html" title="Introduction" class="">Introduction</a>
                                      </li>
                                      <li class="">
                                        <a href="../platforms/maui/navigation/page-navigation.html" title="Page Navigation" class="">Page Navigation</a>
                                      </li>
                                      <li class="">
                                        <a href="../platforms/maui/navigation/navigation-builder.html" title="NavigationBuilder" class="">NavigationBuilder</a>
                                      </li>
                                      <li class="">
                                        <a href="../platforms/maui/navigation/tabbed-navigation.html" title="TabbedPages" class="">TabbedPages</a>
                                      </li>
                                      <li class="">
                                        <a href="../platforms/maui/navigation/navigation-result.html" title="Understanding the INavigationResult" class="">Understanding the INavigationResult</a>
                                      </li>
                                      <li class="">
                                        <a href="../platforms/maui/navigation/navigation-exceptions.html" title="NavigationExceptions" class="">NavigationExceptions</a>
                                      </li>
                                      <li class="">
                                        <a href="../platforms/maui/navigation/global-navigation-observer.html" title="Global Navigation Observer" class="">Global Navigation Observer</a>
                                      </li>
                                      <li class="">
                                        <a href="../platforms/maui/navigation/xaml-navigation.html" title="XAML Navigation" class="">XAML Navigation</a>
                                      </li>
                                    </ul>  </li>
                              </ul>  </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a class="">Uno Platform</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="../platforms/uno/index.html" title="Getting Started" class="">Getting Started</a>
                                </li>
                                <li class="">
                                  <a href="../platforms/uno/extensions.html" title="Uno.Extensions" class="">Uno.Extensions</a>
                                </li>
                              </ul>  </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a class="">Wpf</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="../platforms/wpf/introduction.html" title="Introduction" class="">Introduction</a>
                                </li>
                                <li class="">
                                  <a href="../platforms/wpf/getting-started.html" title="Getting Started" class="">Getting Started</a>
                                </li>
                                <li class="">
                                  <a href="../platforms/wpf/view-composition.html" title="View Composition" class="">View Composition</a>
                                </li>
                                <li class="">
                                  <span class="expand-stub"></span>
                                  <a class="">Interactivity</a>
                                    
                                    <ul class="nav level4">
                                      <li class="">
                                        <a href="../platforms/wpf/interactivity/event-to-command.html" title="Event To Command" class="">Event To Command</a>
                                      </li>
                                    </ul>  </li>
                              </ul>  </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a class="">Xamarin.Forms</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="../platforms/xamarin-forms/creating-your-first-prism-app.html" title="Create Your First App" class="">Create Your First App</a>
                                </li>
                                <li class="">
                                  <span class="expand-stub"></span>
                                  <a class="">Behaviors</a>
                                    
                                    <ul class="nav level4">
                                      <li class="">
                                        <a href="../platforms/xamarin-forms/behaviors/index.html" title="Working with Behaviors" class="">Working with Behaviors</a>
                                      </li>
                                      <li class="">
                                        <a href="../platforms/xamarin-forms/behaviors/eventtocommandbehavior.html" title="EventToCommand Behavior" class="">EventToCommand Behavior</a>
                                      </li>
                                      <li class="">
                                        <a href="../platforms/xamarin-forms/behaviors/page-behavior-factory.html" title="PageBehaviorFactory" class="">PageBehaviorFactory</a>
                                      </li>
                                    </ul>  </li>
                                <li class="">
                                  <span class="expand-stub"></span>
                                  <a class="">Dialogs</a>
                                    
                                    <ul class="nav level4">
                                      <li class="">
                                        <a href="../platforms/xamarin-forms/dialogs/index.html" title="Dialogs" class="">Dialogs</a>
                                      </li>
                                      <li class="">
                                        <a href="../platforms/xamarin-forms/dialogs/page-dialog-service.html" title="Page Dialog Service" class="">Page Dialog Service</a>
                                      </li>
                                      <li class="">
                                        <a href="../platforms/xamarin-forms/dialogs/dialog-service.html" title="Dialog Service" class="">Dialog Service</a>
                                      </li>
                                      <li class="">
                                        <a href="../platforms/xamarin-forms/dialogs/styling-dialogs.html" title="Styling Dialogs" class="">Styling Dialogs</a>
                                      </li>
                                    </ul>  </li>
                                <li class="">
                                  <span class="expand-stub"></span>
                                  <a class="">Navigation</a>
                                    
                                    <ul class="nav level4">
                                      <li class="">
                                        <a href="../platforms/xamarin-forms/navigation/navigation-basics.html" title="Navigation Basics" class="">Navigation Basics</a>
                                      </li>
                                      <li class="">
                                        <a href="../platforms/xamarin-forms/navigation/passing-parameters.html" title="Passing Parameters" class="">Passing Parameters</a>
                                      </li>
                                      <li class="">
                                        <a href="../platforms/xamarin-forms/navigation/confirming-navigation.html" title="Confirming Navigation" class="">Confirming Navigation</a>
                                      </li>
                                      <li class="">
                                        <a href="../platforms/xamarin-forms/navigation/deep-linking.html" title="Deep Linking" class="">Deep Linking</a>
                                      </li>
                                      <li class="">
                                        <a href="../platforms/xamarin-forms/navigation/working-with-masterdetailpages.html" title="Working w/ MasterDetailPages" class="">Working w/ MasterDetailPages</a>
                                      </li>
                                      <li class="">
                                        <a href="../platforms/xamarin-forms/navigation/working-with-navigationpages.html" title="Working w/ NavigationPages" class="">Working w/ NavigationPages</a>
                                      </li>
                                      <li class="">
                                        <a href="../platforms/xamarin-forms/navigation/working-with-tabbedpages.html" title="Working w/ TabbedPages" class="">Working w/ TabbedPages</a>
                                      </li>
                                      <li class="">
                                        <a href="../platforms/xamarin-forms/navigation/xaml-navigation.html" title="XAML Navigation" class="">XAML Navigation</a>
                                      </li>
                                    </ul>  </li>
                                <li class="">
                                  <a href="../platforms/xamarin-forms/application-lifecycle.html" title="Application Lifecycle" class="">Application Lifecycle</a>
                                </li>
                                <li class="">
                                  <a href="../platforms/xamarin-forms/page-lifecycle.html" title="Page Lifecycle" class="">Page Lifecycle</a>
                                </li>
                                <li class="">
                                  <span class="expand-stub"></span>
                                  <a class="">Additional Platforms</a>
                                    
                                    <ul class="nav level4">
                                      <li class="">
                                        <a href="../platforms/xamarin-forms/platform-reference/gtk.html" title="GTK" class="">GTK</a>
                                      </li>
                                    </ul>  </li>
                              </ul>  </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">Magician</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../magician/index.html" title="Getting Started" class="">Getting Started</a>
                          </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">Plugins</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <span class="expand-stub"></span>
                            <a class="">Essentials</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="../plugins/essentials/index.html" title="Getting Started" class="">Getting Started</a>
                                </li>
                                <li class="">
                                  <a href="../plugins/essentials/appcontext.html" title="App Context" class="">App Context</a>
                                </li>
                                <li class="">
                                  <a href="../plugins/essentials/connectivity.html" title="Connectivity" class="">Connectivity</a>
                                </li>
                                <li class="">
                                  <a href="../plugins/essentials/filesystem.html" title="File System" class="">File System</a>
                                </li>
                                <li class="">
                                  <a href="../plugins/essentials/latestversion.html" title="LatestVersion" class="">LatestVersion</a>
                                </li>
                                <li class="">
                                  <a href="../plugins/essentials/mainthread.html" title="Main Thread" class="">Main Thread</a>
                                </li>
                                <li class="">
                                  <span class="expand-stub"></span>
                                  <a class="">Notifications</a>
                                    
                                    <ul class="nav level4">
                                      <li class="">
                                        <a href="../plugins/essentials/notifications/index.html" title="Getting Started" class="">Getting Started</a>
                                      </li>
                                      <li class="">
                                        <a href="../plugins/essentials/notifications/actionsheets.html" title="ActionSheets" class="">ActionSheets</a>
                                      </li>
                                      <li class="">
                                        <a href="../plugins/essentials/notifications/alerts.html" title="Alerts" class="">Alerts</a>
                                      </li>
                                      <li class="">
                                        <a href="../plugins/essentials/notifications/prompts.html" title="Prompts" class="">Prompts</a>
                                      </li>
                                    </ul>  </li>
                                <li class="">
                                  <a href="../plugins/essentials/permissions.html" title="Permissions" class="">Permissions</a>
                                </li>
                                <li class="">
                                  <a href="../plugins/essentials/phonedialer.html" title="Phone Dialer" class="">Phone Dialer</a>
                                </li>
                                <li class="">
                                  <a href="../plugins/essentials/stores.html" title="Stores" class="">Stores</a>
                                </li>
                              </ul>  </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a class="">Logging</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="../plugins/logging/index.html" title="Getting Started" class="">Getting Started</a>
                                </li>
                                <li class="">
                                  <a href="../plugins/logging/gelf.html" title="Graylog" class="">Graylog</a>
                                </li>
                                <li class="">
                                  <a href="../plugins/logging/microsoft.html" title="Microsoft Extensions" class="">Microsoft Extensions</a>
                                </li>
                                <li class="">
                                  <a href="../plugins/logging/raygun.html" title="Raygun" class="">Raygun</a>
                                </li>
                                <li class="">
                                  <a href="../plugins/logging/testing.html" title="Unit Testing" class="">Unit Testing</a>
                                </li>
                              </ul>  </li>
                          <li class="">
                            <a href="../plugins/regions.html" title="Observable Regions" class="">Observable Regions</a>
                          </li>
                          <li class="">
                            <a href="../plugins/popups.html" title="Popups" class="">Popups</a>
                          </li>
                        </ul>  </li>
                  </ul>        </div>
              </div>
            </div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Commands.CompositeCommands">
<h1 id="composite-commands">Composite Commands</h1>

<p>In many cases, a command defined by a ViewModel will be bound to controls in the associated view so that the user can directly invoke the command from within the view. However, in some cases, you may want to be able to invoke commands on one or more ViewModels from a control in a parent view in the application&#39;s UI.</p>
<p>For example, if your application allows the user to edit multiple items at the same time, you may want to allow the user to save all the items using a single command represented by a button in the application&#39;s toolbar or ribbon. In this case, the Save All command will invoke each of the Save commands implemented by the ViewModel instance for each item as shown in the following illustration.</p>
<p><img src="../images/composite-commands-1.png" alt="SaveAll composite command"></p>
<p>Prism supports this scenario through the <code>CompositeCommand</code> class.</p>
<p>The <code>CompositeCommand</code> class represents a command that is composed from multiple child commands. When the composite command is invoked, each of its child commands is invoked in turn. It is useful in situations where you need to represent a group of commands as a single command in the UI or where you want to invoke multiple commands to implement a logical command.</p>
<p>The <code>CompositeCommand</code> class maintains a list of child commands (<code>DelegateCommand</code> instances). The <code>Execute</code> method of the <code>CompositeCommand</code> class simply calls the <code>Execute</code> method on each of the child commands in turn. The <code>CanExecute</code> method similarly calls the <code>CanExecute</code> method of each child command, but if any of the child commands cannot be executed, the <code>CanExecute</code> method will return <code>false</code>. In other words, by default, a <code>CompositeCommand</code> can only be executed when all the child commands can be executed.</p>
<div class="NOTE"><h5>Note</h5><p><code>CompositeCommand</code> can be found in the Prism.Commands namespace which is located in the Prism.Core NuGet package.</p>
</div>
<div class="embeddedvideo"><iframe src="https://www.youtube.com/embed/kssprOqdfME" frameborder="0" allowfullscreen="true"></iframe></div>
<h2 id="creating-a-composite-command">Creating a Composite Command</h2>
<p>To create a composite command, instantiate a <code>CompositeCommand</code> instance and then expose it as either an <code>ICommand</code> or <code>CompositeCommand</code> property.</p>
<pre><code class="lang-cs">    public class ApplicationCommands
    {
        private CompositeCommand _saveCommand = new CompositeCommand();
        public CompositeCommand SaveCommand
        {
            get =&gt; _saveCommand;
        }
    }
</code></pre><h2 id="making-a-compositecommand-globally-available">Making a CompositeCommand Globally Available</h2>
<p>Typically, CompositeCommands are shared throughout an application and need to be made available globally. It&#39;s important that when you register a child command with a <code>CompositeCommand</code> that you are using the same instance of the CompositeCommand throughout the application. This requires the CompositeCommand to be defined as a singleton in your application.  This can be done by either using dependency injection (DI), or by defining your CompositeCommand as a static class.</p>
<h3 id="using-dependency-injection">Using Dependency Injection</h3>
<p>The first step in defining your CompositeCommands is to create an interface.</p>
<pre><code class="lang-cs">    public interface IApplicationCommands
    {
        CompositeCommand SaveCommand { get; }
    }
</code></pre><p>Next, create a class that implements the interface.</p>
<pre><code class="lang-cs">    public class ApplicationCommands : IApplicationCommands
    {
        private CompositeCommand _saveCommand = new CompositeCommand();
        public CompositeCommand SaveCommand
        {
            get =&gt;_saveCommand;
        }
    }
</code></pre><p>Once you have defined your ApplicationCommands class, you must register it as a singleton with the container.</p>
<pre><code class="lang-cs">    public partial class App : PrismApplication
    {
        protected override void RegisterTypes(IContainerRegistry containerRegistry)
        {
            containerRegistry.RegisterSingleton&lt;IApplicationCommands, ApplicationCommands&gt;();
        }
    }
</code></pre><p>Next, ask for the <code>IApplicationCommands</code> interface in the ViewModel constructor.  Once you have an instance of the <code>ApplicationCommands</code> class, can now register your DelegateCommands with the appropriate CompositeCommand.</p>
<pre><code class="lang-cs">    public DelegateCommand UpdateCommand { get; private set; }

    public TabViewModel(IApplicationCommands applicationCommands)
    {
        UpdateCommand = new DelegateCommand(Update);
        applicationCommands.SaveCommand.RegisterCommand(UpdateCommand);
    }
</code></pre><h3 id="using-a-static-class">Using a Static Class</h3>
<p>Create a static class that will represent your CompositeCommands</p>
<pre><code class="lang-cs">public static class ApplicationCommands
{
    public static CompositeCommand SaveCommand = new CompositeCommand();
}
</code></pre><p>In your ViewModel, associate child commands to the static <code>ApplicationCommands</code> class.</p>
<pre><code class="lang-cs">    public DelegateCommand UpdateCommand { get; private set; }

    public TabViewModel()
    {
        UpdateCommand = new DelegateCommand(Update);
        ApplicationCommands.SaveCommand.RegisterCommand(UpdateCommand);
    }
</code></pre><div class="NOTE"><h5>Note</h5><p>To increase the maintainability and testability of your code, it is recommended that you using the dependency injection approach.</p>
</div>
<h2 id="binding-to-a-globally-available-command">Binding to a Globally Available Command</h2>
<p>Once you have created your CompositeCommands, you must now bind them to UI elements in order to invoke the commands.</p>
<h3 id="using-dependency-injection-1">Using Dependency Injection</h3>
<p>When using DI, you must expose the <code>IApplicationCommands</code> for binding to a View.  In the ViewModel of the view, ask for the <code>IApplicationCommands</code> in the constructor and set a property of type <code>IApplicationCommands</code> to the instance.</p>
<pre><code class="lang-cs">    public class MainWindowViewModel : BindableBase
    {
        private IApplicationCommands _applicationCommands;
        public IApplicationCommands ApplicationCommands
        {
            get =&gt; _applicationCommands;
            set =&gt; SetProperty(ref _applicationCommands, value);
        }

        public MainWindowViewModel(IApplicationCommands applicationCommands)
        {
            ApplicationCommands = applicationCommands;
        }
    }
</code></pre><p>In the view, bind the button to the <code>ApplicationCommands.SaveCommand</code> property. The <code>SaveCommand</code> is a property that is defined on the <code>ApplicationCommands</code> class.</p>
<pre><code class="lang-xml">&lt;Button Content=&quot;Save&quot; Command=&quot;{Binding ApplicationCommands.SaveCommand}&quot;/&gt;
</code></pre><!--TODO: Remove duplicate sections -->
<h3 id="using-a-static-class-1">Using a Static Class</h3>
<p>If you are using the static class approach, the following code example shows how to bind a button to the static ApplicationCommands class in WPF.</p>
<pre><code class="lang-xml">&lt;Button Content=&quot;Save&quot; Command=&quot;{x:Static local:ApplicationCommands.SaveCommand}&quot; /&gt;
</code></pre><h2 id="unregister-a-command">Unregister a Command</h2>
<p>As seen in the previous examples, child commands are registered using the <code>CompositeCommand.RegisterCommand</code> method. However, when you no longer wish to respond to a CompositeCommand or if you are destroying the View/ViewModel for garbage collection, you should unregister the child commands with the <code>CompositeCommand.UnregisterCommand</code> method.</p>
<pre><code class="lang-cs">    public void Destroy()
    {
        _applicationCommands.UnregisterCommand(UpdateCommand);
    }
</code></pre><div class="IMPORTANT"><h5>Important</h5><p>You MUST unregister your commands from a <code>CompositeCommand</code> when the View/ViewModel is no longer needed (ready for GC). Otherwise you will have introduced a memory leak.</p>
</div>
<h2 id="executing-commands-on-active-views">Executing Commands on Active Views</h2>
<p>Composite commands at the parent view level will often be used to coordinate how commands at the child view level are invoked. In some cases, you will want the commands for all shown views to be executed, as in the Save All command example described earlier. In other cases, you will want the command to be executed only on the active view. In this case, the composite command will execute the child commands only on views that are deemed to be active; it will not execute the child commands on views that are not active. For example, you may want to implement a Zoom command on the application&#39;s toolbar that causes only the currently active item to be zoomed, as shown in the following diagram.</p>
<p><img src="../images/composite-commands-2.png" alt="Executing a CompositeCommand on a single child"></p>
<p>To support this scenario, Prism provides the <code>IActiveAware</code> interface. The <code>IActiveAware</code> interface defines an <code>IsActive</code> property that returns <code>true</code> when the implementer is active, and an <code>IsActiveChanged</code> event that is raised whenever the active state is changed.</p>
<p>You can implement the <code>IActiveAware</code> interface on views or ViewModels. It is primarily used to track the active state of a view. Whether or not a view is active is determined by the views within the specific control. For the Tab control, there is an adapter that sets the view in the currently selected tab as active, for example.</p>
<p>The <code>DelegateCommand</code> class also implements the <code>IActiveAware</code> interface. The <code>CompositeCommand</code> can be configured to evaluate the active status of child DelegateCommands (in addition to the <code>CanExecute</code> status) by specifying <code>true</code> for the <code>monitorCommandActivity</code> parameter in the constructor. When this parameter is set to <code>true</code>, the <code>CompositeCommand</code> class will consider each child DelegateCommand&#39;s active status when determining the return value for the <code>CanExecute</code> method and when executing child commands within the <code>Execute</code> method.</p>
<pre><code class="lang-cs">    public class ApplicationCommands : IApplicationCommands
    {
        private CompositeCommand _saveCommand = new CompositeCommand(true);
        public CompositeCommand SaveCommand
        {
            get =&gt; _saveCommand;
        }
    }
</code></pre><p>When the <code>monitorCommandActivity</code> parameter is <code>true</code>, the <code>CompositeCommand</code> class exhibits the following behavior:</p>
<ul>
<li><code>CanExecute</code>: Returns <code>true</code> only when all active commands can be executed. Child commands that are inactive will not be considered at all.</li>
<li><code>Execute</code>: Executes all active commands. Child commands that are inactive will not be considered at all.</li>
</ul>
<p>By implementing the <code>IActiveAware</code> interface on your ViewModels, you will be notified when your view becomes active or inactive. When the view&#39;s active status changes, you can update the active status of the child commands. Then, when the user invokes the composite command, the command on the active child view will be invoked.</p>
<pre><code class="lang-cs">    public class TabViewModel : BindableBase, IActiveAware
    {
        private bool _isActive;
        public bool IsActive
        {
            get { return _isActive; }
            set =&gt; SetProperty(ref _isActive, OnIsActiveChanged);
        }

        public event EventHandler IsActiveChanged;

        public DelegateCommand UpdateCommand { get; private set; }

        public TabViewModel(IApplicationCommands applicationCommands)
        {
            UpdateCommand = new DelegateCommand(Update);
            applicationCommands.SaveCommand.RegisterCommand(UpdateCommand);
        }

        private void Update()
        {
            //implement logic
        }

        private void OnIsActiveChanged()
        {
            UpdateCommand.IsActive = IsActive; //set the command as active
            IsActiveChanged?.Invoke(this, new EventArgs()); //invoke the event for all listeners
        }
    }
</code></pre></article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix" style="margin-top: 0px;">
              <div class="connect-widget">
                <ul class="connect-links">
          		<li id="connect-github">
          			<a href="https://github.com/PrismLibrary/Prism-Documentation/blob/master/docs/commands/composite-commands.md/#L1" target="_blank">
          				<div class="image github"></div>Edit on GitHub
          			</a>
                  </li>
                  <li id="connect-stack-overflow">
                      <a href="https://stackoverflow.com/questions/tagged/prism" target="_blank">
                          <div class="image stackoverflow"></div>Ask questions
                      </a>
                  </li>
                  <li id="connect-twitter">
                      <a href="https://twitter.com/prismlib" target="_blank">
                          <div class="image twitterhandle"></div>Follow @PrismLib
                      </a>
                  </li>
                  <li id="connect-twitter">
                      <a href="https://twitter.com/brianlagunas" target="_blank">
                          <div class="image twitterhandle"></div>Follow @BrianLagunas
                      </a>
                  </li>
                  <li id="connect-twitter">
                      <a href="https://twitter.com/danjsiegel" target="_blank">
                          <div class="image twitterhandle"></div>Follow @DanJSiegel
                      </a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            Copyright 2015-2024 Prism Software, LLC
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
