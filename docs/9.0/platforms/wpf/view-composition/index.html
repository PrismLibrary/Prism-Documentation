<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-9.0 docs-doc-page docs-doc-id-platforms/wpf/view-composition" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Composing the User Interface Using the Prism Library for WPF | Prism Library</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://prismlibrary.com/img/prism-logo.png"><meta data-rh="true" name="twitter:image" content="https://prismlibrary.com/img/prism-logo.png"><meta data-rh="true" property="og:url" content="https://prismlibrary.com/docs/9.0/platforms/wpf/view-composition"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="9.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-9.0"><meta data-rh="true" name="docsearch:version" content="9.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-9.0"><meta data-rh="true" property="og:title" content="Composing the User Interface Using the Prism Library for WPF | Prism Library"><meta data-rh="true" name="description" content="A composite application user interface (UI) is composed from loosely coupled visual components known as views that are typically contained in the application modules, but they do not need to be. If you divide your application into modules, you need some way to loosely compose the UI, but you might choose to use this approach even if the views are not in modules. To the user, the application presents a seamless user experience and delivers a fully integrated application."><meta data-rh="true" property="og:description" content="A composite application user interface (UI) is composed from loosely coupled visual components known as views that are typically contained in the application modules, but they do not need to be. If you divide your application into modules, you need some way to loosely compose the UI, but you might choose to use this approach even if the views are not in modules. To the user, the application presents a seamless user experience and delivers a fully integrated application."><link data-rh="true" rel="icon" href="/img/logo-prism-symbol@2x.png"><link data-rh="true" rel="canonical" href="https://prismlibrary.com/docs/9.0/platforms/wpf/view-composition"><link data-rh="true" rel="alternate" href="https://prismlibrary.com/docs/9.0/platforms/wpf/view-composition" hreflang="en"><link data-rh="true" rel="alternate" href="https://prismlibrary.com/docs/9.0/platforms/wpf/view-composition" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Composing the User Interface Using the Prism Library for WPF","item":"https://prismlibrary.com/docs/9.0/platforms/wpf/view-composition"}]}</script><link rel="stylesheet" href="/assets/css/styles.f1d7d62c.css">
<script src="/assets/js/runtime~main.731aba85.js" defer="defer"></script>
<script src="/assets/js/main.5b556a99.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/prism-logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/prism-logo.png" alt="Prism Library" class="themedComponent_mlkZ themedComponent--light_NVdE" height="32" width="150"><img src="/img/prism-logo.png" alt="Prism Library" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="32" width="150"></div><b class="navbar__title text--truncate">Prism Library</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/9.0/">Docs</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><div class="navbar__item"><div class="separator" aria-hidden></div></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/9.0/platforms/wpf/view-composition">9.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/current/platforms/wpf/view-composition">9.1</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/9.0/platforms/wpf/view-composition">9.0</a></li></ul></div><div class="navbar__item"><a href="https://x.com/prismlib" target="_blank" rel="noopener noreferrer" aria-label="X (Twitter)" class="navbar__item navbar__link navbar-icon-link navbar-icon-x"><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a></div><div class="navbar__item"><a href="https://github.com/PrismLibrary/Prism" target="_blank" rel="noopener noreferrer" aria-label="GitHub repository" class="navbar__item navbar__link navbar-icon-link navbar-icon-github"><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/9.0/"><span title="Introduction to Prism" class="linkLabel_WmDU">Introduction to Prism</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/9.0/commands/commanding"><span title="Commands" class="categoryLinkLabel_W154">Commands</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/9.0/dependency-injection/"><span title="Dependency Injection" class="categoryLinkLabel_W154">Dependency Injection</span></a><button aria-label="Expand sidebar category &#x27;Dependency Injection&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/9.0/dialogs/"><span title="Dialog Service" class="categoryLinkLabel_W154">Dialog Service</span></a><button aria-label="Expand sidebar category &#x27;Dialog Service&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/9.0/event-aggregator"><span title="Event Aggregator" class="linkLabel_WmDU">Event Aggregator</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/9.0/mvvm/bindablebase"><span title="Mvvm" class="categoryLinkLabel_W154">Mvvm</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/9.0/modularity/"><span title="Modularity" class="categoryLinkLabel_W154">Modularity</span></a><button aria-label="Expand sidebar category &#x27;Modularity&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/9.0/navigation/"><span title="Navigation" class="categoryLinkLabel_W154">Navigation</span></a><button aria-label="Expand sidebar category &#x27;Navigation&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/9.0/platforms/maui/"><span title="Platforms" class="categoryLinkLabel_W154">Platforms</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/9.0/platforms/maui/"><span title=".NET MAUI" class="categoryLinkLabel_W154">.NET MAUI</span></a><button aria-label="Expand sidebar category &#x27;.NET MAUI&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/9.0/platforms/uno/"><span title="Uno Platform" class="categoryLinkLabel_W154">Uno Platform</span></a><button aria-label="Expand sidebar category &#x27;Uno Platform&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/9.0/platforms/wpf/dialog-service"><span title="WPF" class="categoryLinkLabel_W154">WPF</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/9.0/platforms/wpf/dialog-service"><span title="Dialog Service" class="linkLabel_WmDU">Dialog Service</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/9.0/platforms/wpf/getting-started"><span title="Getting Started" class="linkLabel_WmDU">Getting Started</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/9.0/platforms/wpf/view-composition"><span title="Composing the User Interface Using the Prism Library for WPF" class="linkLabel_WmDU">Composing the User Interface Using the Prism Library for WPF</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/9.0/platforms/wpf/interactivity/event-to-command"><span title="Interactivity" class="categoryLinkLabel_W154">Interactivity</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/9.0/platforms/wpf/introduction"><span title="Introduction" class="linkLabel_WmDU">Introduction</span></a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/9.0/magician/"><span title="Magician" class="linkLabel_WmDU">Magician</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/9.0/plugins/essentials/"><span title="Plugins" class="categoryLinkLabel_W154">Plugins</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/9.0/pipelines/commercial-plus"><span title="Pipelines" class="categoryLinkLabel_W154">Pipelines</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Platforms</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">WPF</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Composing the User Interface Using the Prism Library for WPF</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 9.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Composing the User Interface Using the Prism Library for WPF</h1></header>
<p>A composite application user interface (UI) is composed from loosely coupled visual components known as <strong>views</strong> that are typically contained in the application modules, but they do not need to be. If you divide your application into modules, you need some way to loosely compose the UI, but you might choose to use this approach even if the views are not in modules. To the user, the application presents a seamless user experience and delivers a fully integrated application.</p>
<p>To compose your UI, you need an architecture that allows you to create a layout composed of loosely coupled visual elements generated at run time. Additionally, the architecture should provide strategies for these visual elements to communicate in a loosely coupled fashion.</p>
<p>An application UI can be built by using one of the following paradigms:</p>
<ul>
<li class="">All required controls for a form are contained in a single Extensible Application Markup Language (<strong>XAML</strong>) file, composing the form at design time.</li>
<li class="">Logical areas of the form are separated into distinct parts, typically user controls. The parts are referenced by the form, and the form is composed at design time.</li>
<li class="">Logical areas of the form are separated into distinct parts, typically user controls. The parts are unknown to the form and are dynamically added to the form at run time. Applications that use this methodology are known as composite applications using UI composition patterns.</li>
</ul>
<p>Below is a picture of an app. It is composed by loading multiple views that come from different modules into regions exposed by the shell, as shown in the following illustration.</p>
<p><img decoding="async" loading="lazy" alt="Sample app with regions and views" src="/assets/images/Ch7UIFig1-48948a79d37ebcfa53390d39de428dcc.png" width="600" height="453" class="img_ev3q"></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ui-layout-concepts">UI Layout Concepts<a href="#ui-layout-concepts" class="hash-link" aria-label="Direct link to UI Layout Concepts" title="Direct link to UI Layout Concepts" translate="no">​</a></h2>
<p>The <code>shell</code> is typically the main application window and it is comprised of regions. Regions are mostly contained within <code>ContentControl</code>&#x27;s, <code>ItemControl</code>&#x27;s and <code>TabControl</code>&#x27;s, and the shell has no knowledge of what is implemented in the <code>region</code>. Inside the <code>region</code> are views. The view is the implementation of a specific portion of the UI and is decoupled from other parts of the application.</p>
<p>The following sections introduce the high-level core concepts for composite application development.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="shell">Shell<a href="#shell" class="hash-link" aria-label="Direct link to Shell" title="Direct link to Shell" translate="no">​</a></h3>
<p>The shell is the application root object that contains the primary UI content. In a Windows Presentation Foundation (WPF) application, the shell is the <code>Window</code> object.</p>
<p>The shell plays the role of a master page providing the layout structure for the application. The shell contains one or more named regions where modules can specify the views that will appear. It can also define certain top-level UI elements, such as the background, main menu, and toolbar.</p>
<p>The shell defines the overall appearance of the application. It might define styles and borders that are present and visible in the shell layout itself, and it might also define styles, templates, and themes that will be applied to the views that are plugged into the shell.</p>
<p>Typically, the shell is a part of the WPF application project. The assembly that contains the shell might or might not reference the assemblies that contain the views to be loaded in the shell&#x27;s regions.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="views">Views<a href="#views" class="hash-link" aria-label="Direct link to Views" title="Direct link to Views" translate="no">​</a></h3>
<p>Views are the main unit of UI construction within a composite application. You can define a view as a user control, page, data template, or custom control. A view encapsulates a portion of your UI that you would like to keep as decoupled as possible from other parts of the application. You can choose what goes in a view based on encapsulation or a piece of functionality, or you can choose to define something as a view because you will have multiple instances of that view in your application.</p>
<p>Because of the content model of WPF, there is nothing specific to the Prism Library required to define a view. The easiest way to define a view is to define a user control. To add a view to the UI, you simply need a way to construct it and add it to a container. WPF provides mechanisms to do this. The Prism Library adds the ability to define a region into which a view can be dynamically added at run time.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="composite-views">Composite Views<a href="#composite-views" class="hash-link" aria-label="Direct link to Composite Views" title="Direct link to Composite Views" translate="no">​</a></h4>
<p>A view that supports specific functionality can become complicated. In that case, you might want to divide the view into several child views and have the parent view handle constructing itself by using the child views as parts. The application might do this statically at design time, or it might support having modules add child views through a contained region at run time. When you have a view that is not fully defined in a single view class, you can refer to that as a composite view. In many situations, a composite view is responsible for constructing the child views and for coordinating the interactions between them. You can design child views that are more loosely coupled from their sibling views and their parent composite view by using the Prism Library commands and the event aggregator.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="regions">Regions<a href="#regions" class="hash-link" aria-label="Direct link to Regions" title="Direct link to Regions" translate="no">​</a></h3>
<p>Regions are enabled in the Prism Library through a region manager, regions, and region adapters.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="region-manager">Region Manager<a href="#region-manager" class="hash-link" aria-label="Direct link to Region Manager" title="Direct link to Region Manager" translate="no">​</a></h4>
<p>The <code>RegionManager</code> class is responsible for creating and maintaining a collection of regions for the host controls. The <code>RegionManager</code> uses a control-specific adapter that associates a new region with the host control. The following illustration shows the relationship between the region, control, and adapter set up by the <code>RegionManager</code>.</p>
<p><img decoding="async" loading="lazy" alt="Region, control, and adapter relationship" src="/assets/images/Ch7UIFig2-ef4ee0d2e8256e0407bd9f33f710001d.png" width="600" height="311" class="img_ev3q"></p>
<p>The <code>RegionManager</code> can create regions in code or in XAML. The <code>RegionManager.RegionName</code> attached property is used to create a region in XAML by applying the attached property to the host control.</p>
<p>Applications can contain one or more instances of a <code>RegionManager</code>. You can specify the <code>RegionManager</code> instance into which you want to register the region. This is useful if you want to move the control around in the visual tree and do not want the region to be cleared when the attached property value is removed.</p>
<p>The <code>RegionManager</code> provides a RegionContext attached property that permits its regions to share data.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="region-implementation">Region Implementation<a href="#region-implementation" class="hash-link" aria-label="Direct link to Region Implementation" title="Direct link to Region Implementation" translate="no">​</a></h4>
<p>A region is a class that implements the <code>IRegion</code> interface. The term <em>region</em> represents a container that can hold dynamic data that is presented in a UI. A region allows the Prism Library to place dynamic content contained in modules in predefined placeholders in a UI container.</p>
<p>Regions can hold any type of UI content. A module can contain UI content presented as a user control, a data type that is associated with a data template, a custom control, or any combination of these. This lets you define the appearance for the UI areas and then have modules place content in these predetermined areas.</p>
<p>A region can contain zero or more items. Depending on the type of host control the region is managing, one or more of the items could be visible. For example, a <code>ContentControl</code> can display only a single object. However, the region in which it is located can contain many items, and an <code>ItemsControl</code> can display multiple items. This allows each item in the region to be visible in the UI.</p>
<p>In the following illustration, the sample app shell contains four regions: <strong>MainRegion</strong>, <strong>MainToolbarRegion</strong>, <strong>ResearchRegion</strong>, and <strong>ActionRegion</strong>. These regions are populated by the various modules in the application—the content can be changed at any time.</p>
<p><img decoding="async" loading="lazy" alt="Sample app regions" src="/assets/images/Ch7UIFig3-c93f3a892e438e0c550d1e1b6a022470.png" width="600" height="453" class="img_ev3q"></p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="module-user-control-to-region-mapping">Module User Control to Region Mapping<a href="#module-user-control-to-region-mapping" class="hash-link" aria-label="Direct link to Module User Control to Region Mapping" title="Direct link to Module User Control to Region Mapping" translate="no">​</a></h5>
<p>To demonstrate how modules and content are associated with regions, see the following illustration. It shows the association of <code>WatchModule</code> and the <code>NewsModule</code> with the corresponding regions in the shell.</p>
<p>The <strong>MainRegion</strong> contains the <code>WatchListView</code> user control, which is contained in the <code>WatchModule</code>. The <strong>ResearchRegion</strong> also contains the <code>ArticleView</code> user control, which is contained in the <code>NewsModule</code>.</p>
<p>In applications created with the Prism Library, mappings like this will be a part of the design process because designers and developers use them to determine what content is proposed to be in a specific region. This allows designers to determine the overall space needed and any additional items that must be added to ensure that the content will be viewable in the allowable space.</p>
<p><img decoding="async" loading="lazy" alt="Module user control to region mapping" src="/assets/images/Ch7UIFig4-72a2a71d849c13537877ec6672a785f8.png" width="600" height="350" class="img_ev3q"></p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="default-region-functionality">Default Region Functionality<a href="#default-region-functionality" class="hash-link" aria-label="Direct link to Default Region Functionality" title="Direct link to Default Region Functionality" translate="no">​</a></h4>
<p>While you do not need to fully understand region implementations to use them, it might be useful to understand how controls and regions are associated and the default region functionality: for example, how a region locates and instantiates views, how views can be notified when they are the active view, or how view lifetime can be tied to activation.</p>
<p>The following sections describe the region adapter and region behaviors.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="region-adapter">Region Adapter<a href="#region-adapter" class="hash-link" aria-label="Direct link to Region Adapter" title="Direct link to Region Adapter" translate="no">​</a></h5>
<p>To expose a UI control as a region, it must have a region adapter. Region adapters are responsible for creating a region and associating it with the control. This allows you to use the <code>IRegion</code> interface to manage the UI control contents in a consistent way. Each region adapter adapts a specific type of UI control. The Prism Library provides the following three region adapters:</p>
<ul>
<li class=""><code>ContentControlRegionAdapter</code>. This adapter adapts controls of type <code>System.Windows.Controls.ContentControl</code> and derived classes.</li>
<li class=""><code>SelectorRegionAdapter</code>. This adapter adapts controls derived from the class <code>System.Windows.Controls.Primitives.Selector</code>, such as the <code>System.Windows.Controls.TabControl</code> control.</li>
<li class=""><code>ItemsControlRegionAdapter</code>. This adapter adapts controls of type <code>System.Windows.Controls.ItemsControl</code> and derived classes.</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="region-behaviors">Region Behaviors<a href="#region-behaviors" class="hash-link" aria-label="Direct link to Region Behaviors" title="Direct link to Region Behaviors" translate="no">​</a></h5>
<p>The Prism Library introduces the concept of region behaviors. These are pluggable components that give a region most of its functionality. Region behaviors were introduced to support view discovery and region context (described later in this topic). Additionally, behaviors provide an effective way to extend a region&#x27;s implementation.</p>
<p>A region behavior is a class that is attached to a region to give the region additional functionality. This behavior is attached to the region and remains active for the lifetime of the region. For example, when an <code>AutoPopulateRegionBehavior</code> is attached to a region, it automatically instantiates and adds any <code>ViewTypes</code> that are registered against regions with that name. For the lifetime of the region, it keeps monitoring the <code>RegionViewRegistry</code> for new registrations. It is easy to add custom region behaviors or replace existing behaviors, either on a system-wide or a per-region basis.</p>
<p>The next sections describe the default behaviors that are automatically added to all regions. One behavior, the <code>SelectorItemsSourceSyncBehavior</code>, is only attached to controls that derive from the <code>Selector</code>.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="registration-behavior">Registration Behavior<a href="#registration-behavior" class="hash-link" aria-label="Direct link to Registration Behavior" title="Direct link to Registration Behavior" translate="no">​</a></h5>
<p>The <code>RegionManagerRegistrationBehavior</code> is responsible for making sure that the region is registered to the correct <code>RegionManager</code>. When a view or control is added to the visual tree as a child of another control or region, any region defined in the control should be registered in the <code>RegionManager</code> of the parent control. When the child control is removed, the registered region is unregistered.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="auto-population-behavior">Auto-Population Behavior<a href="#auto-population-behavior" class="hash-link" aria-label="Direct link to Auto-Population Behavior" title="Direct link to Auto-Population Behavior" translate="no">​</a></h5>
<p>There are two classes responsible for implementing view discovery. One of them is the <code>AutoPopulateRegionBehavior</code>. When it is attached to a region, it retrieves all view types that are registered under the name of the region. It then creates instances of those views and adds them to the region. After the region is created, the <code>AutoPopulateRegionBehavior</code> monitors the <code>RegionViewRegistry</code> for any newly registered view types for that region name.</p>
<p>If you want to have more control over the view discovery process, consider creating your own implementation of the <code>IRegionViewRegistry</code> and the <code>AutoPopulateRegionBehavior</code>.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="region-context-behaviors">Region Context Behaviors<a href="#region-context-behaviors" class="hash-link" aria-label="Direct link to Region Context Behaviors" title="Direct link to Region Context Behaviors" translate="no">​</a></h5>
<p>The region context functionality is contained within two behaviors: the <code>SyncRegionContextWithHostBehavior</code> and the <code>BindRegionContextToDependencyObjectBehavior</code>. These behaviors are responsible for monitoring changes to the context that were made on the region, and then synchronizing the context with a context dependency property attached to the view.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="activation-behavior">Activation Behavior<a href="#activation-behavior" class="hash-link" aria-label="Direct link to Activation Behavior" title="Direct link to Activation Behavior" translate="no">​</a></h5>
<p>The <code>RegionActiveAwareBehavior</code> is responsible for notifying a view if it is active or inactive. The view must implement <code>IActiveAware</code> to receive these change notifications. This active aware notification is one-directional (it travels from the behavior to the view). The view cannot affect its active state by changing the active property on the <code>IActiveAware</code> interface.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="region-lifetime-behavior">Region Lifetime Behavior<a href="#region-lifetime-behavior" class="hash-link" aria-label="Direct link to Region Lifetime Behavior" title="Direct link to Region Lifetime Behavior" translate="no">​</a></h5>
<p>The <code>RegionMemberLifetimeBehavior</code> is responsible for determining if an item should be removed from the region when it is deactivated. The <code>RegionMemberLifetimeBehavior</code> monitors the region&#x27;s <code>ActiveViews</code> collection to discover items that transition into a deactivated state. The behavior checks the removed items for <code>IRegionMemberLifetime</code> or the <code>RegionMemberLifetimeAttribute</code> (in that order) to determine if it should be kept alive on removal.</p>
<p>If the item in the collection is a <code>System.Windows.FrameworkElement</code>, it will also check its <code>DataContext</code> for <code>IRegionMemberLifetime</code> or the <code>RegionMemberLifetimeAttribute</code>.</p>
<p>The region items are checked in the following order:</p>
<ol>
<li class=""><code>IRegionMemberLifetime.KeepAlive</code> value</li>
<li class=""><code>DataContext</code>&#x27;s <code>IRegionMemberLifetime.KeepAlive</code> value</li>
<li class=""><code>RegionMemberLifetimeAttribute.KeepAlive</code> value</li>
<li class=""><code>DataContext</code>&#x27;s <code>RegionMemberLifetimeAttribute.KeepAlive</code> value</li>
</ol>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id="control-specific-behaviors">Control-Specific Behaviors<a href="#control-specific-behaviors" class="hash-link" aria-label="Direct link to Control-Specific Behaviors" title="Direct link to Control-Specific Behaviors" translate="no">​</a></h5>
<p>The <code>SelectorItemsSourceSyncBehavior</code> is used only for controls that derive from <code>Selector</code>, such as a tab control in WPF. It is responsible for synchronizing the views in the region with the items of the selector, and then synchronizing the active views in the region with the selected items of the selector.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="extending-the-region-implementation">Extending the Region Implementation<a href="#extending-the-region-implementation" class="hash-link" aria-label="Direct link to Extending the Region Implementation" title="Direct link to Extending the Region Implementation" translate="no">​</a></h4>
<p>The Prism Library provides extension points that allow you to customize or extend the default behavior of the provided APIs. For example, you can write your own region adapters, region behaviors, or change the way the Navigation API parses URIs.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="view-composition">View Composition<a href="#view-composition" class="hash-link" aria-label="Direct link to View Composition" title="Direct link to View Composition" translate="no">​</a></h3>
<p>View composition is the constructing of a view. In composite applications, views from multiple modules have to be displayed at run time in specific locations within the application UI. To achieve this, you need to define the locations where the views will appear and how the views will be created and displayed in those locations.</p>
<p>Views can be created and displayed in the locations either automatically through view discovery, or programmatically through view injection. These two techniques determine how individual views are mapped to named locations within the application UI.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="view-discovery">View Discovery<a href="#view-discovery" class="hash-link" aria-label="Direct link to View Discovery" title="Direct link to View Discovery" translate="no">​</a></h4>
<p>In view discovery, you set up a relationship in the <code>RegionViewRegistry</code> between a region&#x27;s name and the type of a view. When a region is created, the region looks for all the <code>ViewTypes</code> associated with the region and automatically instantiates and loads the corresponding views. Therefore, with view discovery, you do not have explicit control over when the views that correspond to a region are loaded and displayed.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="view-injection">View Injection<a href="#view-injection" class="hash-link" aria-label="Direct link to View Injection" title="Direct link to View Injection" translate="no">​</a></h4>
<p>In view injection, your code obtains a reference to a region, and then programmatically adds a view into it. Typically, this is done when a module initializes or as a result of a user action. Your code will query a <code>RegionManager</code> for a specific region by name and then inject views into it. With view injection, you have more control over when views are loaded and displayed. You also have the ability to remove views from the region. However, with view injection, you cannot add a view to a region that has not yet been created.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="navigation">Navigation<a href="#navigation" class="hash-link" aria-label="Direct link to Navigation" title="Direct link to Navigation" translate="no">​</a></h4>
<p>The Prism Library 8 contains Navigation APIs. The Navigation APIs simplify the view injection process by allowing you to navigate a region to an URI. The Navigation API instantiates the view, adds it to the region, and then activates it. Additionally, the Navigation API allows navigating back to a previously created view contained in a region. For more information about the Navigation APIs, see <a class="" href="/docs/9.0/navigation/regions/basic-region-navigation">Basic Region Navigation</a>.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="when-to-use-view-discovery-vs-view-injection">When to Use View Discovery vs. View Injection<a href="#when-to-use-view-discovery-vs-view-injection" class="hash-link" aria-label="Direct link to When to Use View Discovery vs. View Injection" title="Direct link to When to Use View Discovery vs. View Injection" translate="no">​</a></h4>
<p>Choosing which view loading strategy to use for a region depends on the application requirements and the function of the region.</p>
<p>Use view discovery in the following situations:</p>
<ul>
<li class="">Automatic view loading is desired or required.</li>
<li class="">Single instances of a view will be loaded into the region.</li>
</ul>
<p>Use view injection in the following situations:</p>
<ul>
<li class="">Your application uses the Navigation APIs.</li>
<li class="">You need explicit or programmatic control over when a view is created and displayed, or you need to remove a view from a region; for example, as a result of application logic or navigation.</li>
<li class="">You need to display multiple instances of the same views in a region, where each view instance is bound to different data.</li>
<li class="">You need to control which instance of a region a view is added to. For example, you want to add a customer detail view to a specific customer detail region. (This scenario requires implementing scoped regions as described later in this topic.)</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ui-layout-scenarios">UI Layout Scenarios<a href="#ui-layout-scenarios" class="hash-link" aria-label="Direct link to UI Layout Scenarios" title="Direct link to UI Layout Scenarios" translate="no">​</a></h2>
<p>In composite applications, views from multiple modules are displayed at run time in specific locations within the application UI. To achieve this, you need to define the locations where the views will appear and how the views will be created and displayed in those locations.</p>
<p>The decoupling of the view and the location in the UI in which it will be displayed allows the appearance and layout of the application to evolve independently of the views that appear within the region.</p>
<p>The next sections describe the core scenarios you will encounter when you develop a composite application.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="implementing-the-shell">Implementing the Shell<a href="#implementing-the-shell" class="hash-link" aria-label="Direct link to Implementing the Shell" title="Direct link to Implementing the Shell" translate="no">​</a></h3>
<p>The shell is the application root object in which the primary UI content is contained. In a WPF application, the shell is the <code>Window</code> object.</p>
<p>A shell can contain named regions where modules can specify the views that will appear. It can also define certain top-level UI elements, such as the main menu and toolbar. The shell defines the overall structure and appearance for the application, and is similar to an ASP.NET master page control. It could define styles and borders that are present and visible in the shell layout itself, and it could also define styles, templates, and themes that are applied to the views that are plugged into the shell.</p>
<p>You do not need to have a distinct shell as part of your application architecture to use the Prism Library. If you are building a completely new composite application, implementing a shell provides a well-defined root and initialization pattern for setting up the main UI of your application. However, if you are adding Prism Library features to an existing application, you do not have to change the basic architecture of your application to add a shell. Instead, you can alter your existing window definitions or controls to add regions that can pull in views as needed.</p>
<p>You can also have more than one shell in your application. If your application is designed to open more than one top-level window for the user, each top-level window acts as shell for the content it contains.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sample-shell">Sample Shell<a href="#sample-shell" class="hash-link" aria-label="Direct link to Sample Shell" title="Direct link to Sample Shell" translate="no">​</a></h4>
<p>This sample has a shell as its main window. In the following illustration, the shell and views are highlighted. The shell is the main window that appears when the app starts and which contains all the views. It defines the regions into which modules add their views and a couple of top-level UI items, including the title and the Watch List tear-off banner.</p>
<p><img decoding="async" loading="lazy" alt="Sample shell window, regions, and views" src="/assets/images/Ch7UIFig1-48948a79d37ebcfa53390d39de428dcc.png" width="600" height="453" class="img_ev3q"></p>
<p>The shell implementation in the app is provided by Shell.xaml, its code-behind file Shell.xaml.cs, and its view model ShellViewModel.cs. Shell.xaml includes the layout and UI elements that are part of the shell, including definitions of regions to which modules add their views.</p>
<p>The following XAML shows the structure and main XAML elements that define the shell. Notice that the <code>RegionName</code> attached property is used to define the four regions and that the window background image provides a background for the shell.</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!--Shell.xaml (WPF) --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">Window</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">x:</span><span class="token tag attr-name" style="color:#00a4db">Class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">StockTraderRI.Shell</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--shell background --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">Window.Background</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">ImageBrush</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">ImageSource</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">Resources/background.png</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">Stretch</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">UniformToFill</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">Window.Background</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">Grid</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- logo --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">Canvas</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">x:</span><span class="token tag attr-name" style="color:#00a4db">Name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">Logo</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">...</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">TextBlock</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">Text</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">CFI</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">...</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">TextBlock</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">Text</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">STOCKTRADER</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">...</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">Canvas</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- main bar --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">ItemsControl</span><span class="token tag" style="color:#00009f"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">            </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">x:</span><span class="token tag attr-name" style="color:#00a4db">Name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">MainToolbar</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">            </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">prism:</span><span class="token tag attr-name" style="color:#00a4db">RegionManager.RegionName</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">{x:Static inf:RegionNames.MainToolBarRegion}</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- content --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">Grid</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">Controls:</span><span class="token tag" style="color:#00009f">AnimatedTabControl</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">                </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">x:</span><span class="token tag attr-name" style="color:#00a4db">Name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">PositionBuySellTab</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">                </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">prism:</span><span class="token tag attr-name" style="color:#00a4db">RegionManager.RegionName</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">{x:Static inf:RegionNames.MainRegion}</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">Grid</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- details --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">Grid</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">ContentControl</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">                </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">x:</span><span class="token tag attr-name" style="color:#00a4db">Name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">ActionContent</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">                </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">prism:</span><span class="token tag attr-name" style="color:#00a4db">RegionManager.RegionName</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">{x:Static inf:RegionNames.ActionRegion}</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">Grid</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- sidebar --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">Grid</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">x:</span><span class="token tag attr-name" style="color:#00a4db">Name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">SideGrid</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">Controls:</span><span class="token tag" style="color:#00009f">ResearchControl</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">                </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">prism:</span><span class="token tag attr-name" style="color:#00a4db">RegionManager.RegionName</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">{x:Static inf:RegionNames.ResearchRegion}</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">Grid</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">Grid</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">Window</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre></div></div>
<p>The implementation of the <code>Shell</code> code-behind file is very simple. The <code>Shell</code> is exported so that when your <code>App</code> object creates it, its dependencies will be added.</p>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Shell.xaml.cs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Export</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">partial</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Shell</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token type-list class-name">Window</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Shell</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">InitializeComponent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>The minimal code in the code-behind file illustrates the power and simplicity of the composite application architecture and loose coupling between the shell and its constituent views.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="defining-regions">Defining Regions<a href="#defining-regions" class="hash-link" aria-label="Direct link to Defining Regions" title="Direct link to Defining Regions" translate="no">​</a></h3>
<p>You define where views will appear by defining a layout with named locations, known as regions. Regions act as placeholders for one or more views that will be displayed at run time. Modules can locate and add content to regions in the layout without knowing how and where the region is displayed. This allows the layout to change without affecting the modules that add the content to the layout.</p>
<p>Regions are defined by assigning a region name to a WPF control, either in XAML as shown in the previous Shell.xaml file or in code. Regions can be accessed by their region name. At run time, views are added to the named Region control, which then displays the view or views according to the layout strategy that the views implement. For example, a tab control region will lay out its child views in a tabbed arrangement. Regions support the addition or removal of views. Views can be created and displayed in regions either programmatically or automatically. In the Prism Library, the former is achieved through view injection and the latter through view discovery. These two techniques determine how individual views are mapped to the named regions within the application UI.</p>
<p>The shell of the application defines the application layout at the highest level; for example, by specifying the locations for the main content and the navigation content, as shown in the following illustration. Layout within these high-level views is similarly defined, allowing the overall UI to be recursively composed.</p>
<p><img decoding="async" loading="lazy" alt="A template shell" src="/assets/images/Ch7UIFig6-db39472ef89aa7086db1fd07f6ca071e.png" width="500" height="356" class="img_ev3q"></p>
<p>Regions are sometimes used to define locations for multiple views that are logically related. In this scenario, the region control is typically an <code>ItemsControl</code>-derived control that will display the views according to the layout strategy that it implements, such as in a stacked or tabbed layout arrangement.</p>
<p>Regions can also be used to define a location for a single view; for example, by using a <code>ContentControl</code>. In this scenario, the region control displays only one view at a time, even if more than one view is mapped to that region location.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sample-app-shell-regions">Sample App Shell Regions<a href="#sample-app-shell-regions" class="hash-link" aria-label="Direct link to Sample App Shell Regions" title="Direct link to Sample App Shell Regions" translate="no">​</a></h4>
<p><img decoding="async" loading="lazy" alt="Sample app shell regions" src="/assets/images/Ch7UIFig3-c93f3a892e438e0c550d1e1b6a022470.png" width="600" height="453" class="img_ev3q"></p>
<p>A multiple-view layout is also demonstrated in the example app ui when the application is buying or selling a stock. The Buy/Sell area is a list-style region that shows multiple buy/sell views (<strong>OrderCompositeView</strong>) as part of its list, as shown in the following illustration.</p>
<p><img decoding="async" loading="lazy" alt="ItemsControl region" src="/assets/images/Ch7UIFig8-15cfdc0cbf491bb36dd4b62882391558.png" width="600" height="452" class="img_ev3q"></p>
<p>The shell&#x27;s <strong>ActionRegion</strong> contains the <strong>OrdersView</strong>. The <strong>OrdersView</strong> contains the <strong>Submit All</strong> and <strong>Cancel All</strong> buttons as well as the <strong>OrdersRegion</strong>. The <strong>OrdersRegion</strong> is attached to a <strong>ListBox</strong> control which displays multiple <strong>OrderCompositeViews</strong>.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="adding-a-region-in-xaml">Adding a Region in XAML<a href="#adding-a-region-in-xaml" class="hash-link" aria-label="Direct link to Adding a Region in XAML" title="Direct link to Adding a Region in XAML" translate="no">​</a></h4>
<p>A region is a class that implements the <code>IRegion</code> interface. The region is the container that holds content to be displayed by a control.</p>
<p>The <code>RegionManager</code> supplies an attached property that you can use for simple region creation in XAML. To use the attached property, you must load the Prism Library namespace into the XAML and then use the <code>RegionName</code> attached property. The following example shows how to use the attached property in a window with an <code>AnimatedTabControl</code>.</p>
<p>Notice the use of the <code>x:Static</code> markup extension to reference the <code>MainRegion</code> string constant. This practice eliminates magic strings in the XAML.</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- (WPF) --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag namespace" style="color:#00009f;opacity:0.7">Controls:</span><span class="token tag" style="color:#00009f">AnimatedTabControl</span><span class="token tag" style="color:#00009f"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">x:</span><span class="token tag attr-name" style="color:#00a4db">Name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">PositionBuySellTab</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">prism:</span><span class="token tag attr-name" style="color:#00a4db">RegionManager.RegionName</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">{x:Static inf:RegionNames.MainRegion}</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="adding-a-region-by-using-code">Adding a Region by Using Code<a href="#adding-a-region-by-using-code" class="hash-link" aria-label="Direct link to Adding a Region by Using Code" title="Direct link to Adding a Region by Using Code" translate="no">​</a></h4>
<p>The <code>RegionManager</code> can register regions directly without using XAML. The following code example shows how to add a region to a control from the code-behind file. First a reference to the region manager is obtained. Then, using the <code>RegionManager</code> static methods <code>SetRegionManager</code> and <code>SetRegionName</code>, the region is attached to the UI&#x27;s <code>ActionContent</code> control and then that region is named <code>ActionRegion</code>.</p>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">IRegionManager</span><span class="token plain"> regionManager </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ServiceLocator</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Current</span><span class="token punctuation" style="color:#393A34">.</span><span class="token generic-method function" style="color:#d73a49">GetInstance</span><span class="token generic-method generic class-name punctuation" style="color:#393A34">&lt;</span><span class="token generic-method generic class-name">IRegionManager</span><span class="token generic-method generic class-name punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RegionManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">SetRegionManager</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ActionContent</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> regionManager</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RegionManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">SetRegionName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ActionContent</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ActionRegion&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="displaying-views-in-a-region-when-the-region-loads">Displaying Views in a Region When the Region Loads<a href="#displaying-views-in-a-region-when-the-region-loads" class="hash-link" aria-label="Direct link to Displaying Views in a Region When the Region Loads" title="Direct link to Displaying Views in a Region When the Region Loads" translate="no">​</a></h3>
<p>With the view discovery approach, modules can register views (view models or presentation models) for a specific named location. When that location is displayed at run time, any views that have been registered for that location will be created and displayed within it automatically.</p>
<p>Modules register views with a registry. The parent view queries this registry to discover the views that were registered for a named location. After they are discovered, the parent view places those views on the screen by adding them to the placeholder control.</p>
<p>After the application is loaded, the composite view is notified to handle the placement of new views that have been added to the registry.</p>
<p>The following illustration shows the view discovery approach.</p>
<p><img decoding="async" loading="lazy" alt="View discovery" src="/assets/images/Ch7UIFig9-33c8c38ac9ceb3fc592b13e5bfe1d7fd.png" width="600" height="400" class="img_ev3q"></p>
<p>The Prism Library defines a standard registry, <code>RegionViewRegistry</code>, to register views for these named locations.</p>
<p>To show a view in a region, register the view with the region manager, as shown in the following code example. You can directly register a view type with the region, in which case the view will be constructed by the dependency injection container and added to the region when the control hosting the region is loaded.</p>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// View discovery</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">regionManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">RegisterViewWithRegion</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;MainRegion&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">typeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token type-expression class-name">EmployeeView</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>Optionally, you can provide a delegate that returns the view to be shown, as shown in the next example. The region manager will display the view when the region is created.</p>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// View discovery</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">regionManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">RegisterViewWithRegion</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;MainRegion&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">container</span><span class="token punctuation" style="color:#393A34">.</span><span class="token generic-method function" style="color:#d73a49">Resolve</span><span class="token generic-method generic class-name punctuation" style="color:#393A34">&lt;</span><span class="token generic-method generic class-name">EmployeeView</span><span class="token generic-method generic class-name punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="displaying-views-in-a-region-programmatically">Displaying Views in a Region Programmatically<a href="#displaying-views-in-a-region-programmatically" class="hash-link" aria-label="Direct link to Displaying Views in a Region Programmatically" title="Direct link to Displaying Views in a Region Programmatically" translate="no">​</a></h3>
<p>In the view injection approach, views are programmatically added or removed from a named location by the modules that manage them. To enable this, the application contains a registry of named locations in the UI. A module can use the registry to look up one of the locations and then programmatically inject views into it. To make sure that locations in the registry can be accessed similarly, each of the named locations adheres to a common interface used to inject the view. The following illustration shows the view injection approach.</p>
<p><img decoding="async" loading="lazy" alt="View injection" src="/assets/images/Ch7UIFig10-25753c4d207a49ffce88ce2091519b81.png" width="600" height="335" class="img_ev3q"></p>
<p>The Prism Library defines a standard registry, <code>RegionManager</code>, and a standard interface, <code>IRegion</code>, for access these locations.</p>
<p>To use view injection to add a view to a region, get the region from the region manager, and then call the <code>Add</code> method, as shown in the following code. With view injection, the view is displayed only after the view is added to a region, which can happen when the module is loaded or when a user action completes a predefined action.</p>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// View injection</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">IRegion</span><span class="token plain"> region </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> regionManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Regions</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;MainRegion&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> ordersView </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> container</span><span class="token punctuation" style="color:#393A34">.</span><span class="token generic-method function" style="color:#d73a49">Resolve</span><span class="token generic-method generic class-name punctuation" style="color:#393A34">&lt;</span><span class="token generic-method generic class-name">OrdersView</span><span class="token generic-method generic class-name punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">region</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ordersView</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;OrdersView&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">region</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Activate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ordersView</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ordering-views-in-a-region">Ordering Views in a Region<a href="#ordering-views-in-a-region" class="hash-link" aria-label="Direct link to Ordering Views in a Region" title="Direct link to Ordering Views in a Region" translate="no">​</a></h4>
<p>Whether it uses view discovery or view Injection, an application might need to order how views appear in a <code>TabControl</code>, <code>ItemsControl</code>, or any other control that displays multiple active views. By default, views appear in the order that they were registered and added into the region.</p>
<p>When a composite application is built, views are often registered from different modules. Declaring dependencies between modules can help alleviate the problem, but when modules and views do not have any real interdependencies, declaring an artificial dependency couples modules unnecessarily.</p>
<p>To allow views to participate in ordering themselves, the Prism Library provides the <code>ViewSortHint</code> attribute. This attribute contains a string <code>Hint</code> property that allows a view to declare a hint of how it should be ordered in the region.</p>
<p>When displaying views, the <code>Region</code> class uses a default view sorting routine that uses the hint to order the views. This is a simple case-sensitive ordinal sort. Views that have the sort hint attribute are ordered ahead of those without. Also, those without the attribute appear in the order they were added to the region.</p>
<p>If you want to change how views are ordered, the <code>Region</code> class provides a <code>SortComparison</code> property that you can set with your own <code>Comparison&lt;_object_&gt;</code> delegate method. It is important to note that the ordering of the region&#x27;s <code>Views</code> and <code>ActiveViews</code> properties are reflected in the UI because adapters such as the <code>ItemsControlRegionAdapter</code> bind directly to these properties. A custom region adapter could implement its own sorting and filter that will override how the region orders views.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="sharing-data-between-multiple-regions">Sharing Data Between Multiple Regions<a href="#sharing-data-between-multiple-regions" class="hash-link" aria-label="Direct link to Sharing Data Between Multiple Regions" title="Direct link to Sharing Data Between Multiple Regions" translate="no">​</a></h3>
<p>The Prism Library provides multiple approaches to communicating between views, depending on your scenario. The region manager provides the <code>RegionContext</code> property as one of these approaches.</p>
<p><code>RegionContext</code> is useful when you want to share context between a parent view and child views that are hosted in a region. <code>RegionContext</code> is an attached property. You set the value of the context on the region control so that it can be made available to all child views that are displayed in that region control. The region context can be any simple or complex object and can be a data-bound value. The <code>RegionContext</code> can be used with either view discovery or view injection.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The <code>DataContext</code> property in WPF is used to set the local data context for the view. It allows the view to use data binding to communicate with a view model, local presenter, or model. <code>RegionContext</code> is used to share context between multiple views and is not local to a single view. It provides a simple mechanism for sharing context between multiple views.</p></div></div>
<p>The following code shows how the <code>RegionContext</code> attached property is used in XAML.</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">TabControl</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">AutomationProperties.AutomationId</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">DetailsTabControl</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">prism:</span><span class="token tag attr-name" style="color:#00a4db">RegionManager.RegionName</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">{x:Static local:RegionNames.TabRegion}</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">prism:</span><span class="token tag attr-name" style="color:#00a4db">RegionManager.RegionContext</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">{Binding Path=SelectedEmployee.EmployeeId}</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f"></span><span class="token tag attr-name" style="color:#00a4db">...</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre></div></div>
<p>You can also set the <code>RegionContext</code> in code, as shown in the following example.</p>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">RegionManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Regions</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Region1&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Context </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> employeeId</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>To retrieve the <code>RegionContext</code> in a view, the <code>GetObservableContext</code> static method of the <code>RegionContext</code> class is used. It passes the view as a parameter and then accesses its <code>Value</code> property, as shown in the following code example.</p>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">GetRegionContext</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Model</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">EmployeeId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">RegionContext</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">GetObservableContext</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Value</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>The value of the <code>RegionContext</code> can be changed from within a view by simply assigning a new value to its <code>Value</code> property. Views can opt to be notified of changes to the <code>RegionContext</code> by subscribing to the <code>PropertyChanged</code> event on the <code>ObservableObject</code> that is returned by the <code>GetObservableContext</code> method. This allows multiple views to be kept in synchronization when their <code>RegionContext</code> is changed. The following code example demonstrates subscribing to the <code>PropertyChanged</code> event.</p>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">ObservableObject</span><span class="token class-name punctuation" style="color:#393A34">&lt;</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token class-name punctuation" style="color:#393A34">&gt;</span><span class="token plain"> viewRegionContext </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                RegionContext</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">GetObservableContext</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">viewRegionContext</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PropertyChanged </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ViewRegionContext_OnPropertyChangedEvent</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ViewRegionContext_OnPropertyChangedEvent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">object</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token class-name">PropertyChangedEventArgs</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PropertyName </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Value&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> context </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ObservableObject</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">object</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name keyword" style="color:#00009f">int</span><span class="token plain"> newValue </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Value</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The <code>RegionContext</code> is set as an attached property on the content object hosted in the region. This means that the content object has to derive from <code>DependencyObject</code>. In the preceding example, the view is a visual control, which ultimately derives from <code>DependencyObject</code>.</p><p>If you choose to use WPF data templates to define your view, the content object will represent the <code>ViewModel</code> or <code>PresentationModel</code>. If your view model or presentation model needs to retrieve the <code>RegionContext</code>, it will need to derive from the <code>DependencyObject</code> base class.</p></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="creating-multiple-instances-of-a-region">Creating Multiple Instances of a Region<a href="#creating-multiple-instances-of-a-region" class="hash-link" aria-label="Direct link to Creating Multiple Instances of a Region" title="Direct link to Creating Multiple Instances of a Region" translate="no">​</a></h3>
<p>Scoped regions are available only with view injection. You should use them if you need a view to have its own instance of a region. Views that define regions with attached properties automatically inherit their parent&#x27;s <code>RegionManager</code>. Usually, this is the global <code>RegionManager</code> that is registered in the shell window. If the application creates more than one instance of that view, each instance would attempt to register its region with the parent <code>RegionManager</code>. <code>RegionManager</code> allows only uniquely named regions; therefore, the second registration would produce an error.</p>
<p>Instead, use scoped regions so that each view will have its own <code>RegionManager</code> and its regions will be registered with that <code>RegionManager</code> rather than the parent <code>RegionManager</code>, as shown in the following illustration.</p>
<p><img decoding="async" loading="lazy" alt="Parent and scoped RegionManagers" src="/assets/images/Ch7UIFig11-0c037f42b656b8ee9d456e61a2777134.png" width="595" height="329" class="img_ev3q"></p>
<p>To create a local <code>RegionManager</code> for a view, specify that a new <code>RegionManager</code> should be created when you add your view to a region, as illustrated in the following code example.</p>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">IRegion</span><span class="token plain"> detailsRegion </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">regionManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Regions</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;DetailsRegion&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">View</span><span class="token plain"> view </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">View</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name keyword" style="color:#00009f">bool</span><span class="token plain"> createRegionManagerScope </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">IRegionManager</span><span class="token plain"> detailsRegionManager </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> detailsRegion</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">view</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> createRegionManagerScope</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>The <code>Add</code> method will return the new <code>RegionManager</code> that the view can retain for further access to the local scope.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/PrismLibrary/Prism-Documentation/edit/master/versioned_docs/version-9.0/platforms/wpf/view-composition.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-11-23T18:58:02.000Z" itemprop="dateModified">Nov 23, 2025</time></b> by <b>Dan Siegel</b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/9.0/platforms/wpf/getting-started"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Getting Started</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/9.0/platforms/wpf/interactivity/event-to-command"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Binding Events to Commands</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ui-layout-concepts" class="table-of-contents__link toc-highlight">UI Layout Concepts</a><ul><li><a href="#shell" class="table-of-contents__link toc-highlight">Shell</a></li><li><a href="#views" class="table-of-contents__link toc-highlight">Views</a></li><li><a href="#regions" class="table-of-contents__link toc-highlight">Regions</a></li><li><a href="#view-composition" class="table-of-contents__link toc-highlight">View Composition</a></li></ul></li><li><a href="#ui-layout-scenarios" class="table-of-contents__link toc-highlight">UI Layout Scenarios</a><ul><li><a href="#implementing-the-shell" class="table-of-contents__link toc-highlight">Implementing the Shell</a></li><li><a href="#defining-regions" class="table-of-contents__link toc-highlight">Defining Regions</a></li><li><a href="#displaying-views-in-a-region-when-the-region-loads" class="table-of-contents__link toc-highlight">Displaying Views in a Region When the Region Loads</a></li><li><a href="#displaying-views-in-a-region-programmatically" class="table-of-contents__link toc-highlight">Displaying Views in a Region Programmatically</a></li><li><a href="#sharing-data-between-multiple-regions" class="table-of-contents__link toc-highlight">Sharing Data Between Multiple Regions</a></li><li><a href="#creating-multiple-instances-of-a-region" class="table-of-contents__link toc-highlight">Creating Multiple Instances of a Region</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/current">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/current/navigation">Navigation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/current/commands/commanding">Commands</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/current/dependency-injection">Dependency Injection</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Platforms</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/current/platforms/maui">.NET MAUI</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/current/platforms/wpf/getting-started">WPF</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/current/platforms/uno">Uno Platform</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/PrismLibrary/Prism" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/PrismLibrary/Prism/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Discussions<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/prismlib" target="_blank" rel="noopener noreferrer" class="footer__link-item">X (Twitter)<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://prismlibrary.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Prism Website<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://prismlibrary.com/#pricing" target="_blank" rel="noopener noreferrer" class="footer__link-item">Commercial License<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Prism Software, LLC.</div></div></div></footer></div>
</body>
</html>